#INCLUDE "P16F84A.INC"
TEMP EQU 0XC
;EL DIRECCIONAMIENTO INDIRECTO UTILIZA LA DIRECCION O LOCALIDAD
;DE UN REGISTRO DE PROPOSITO GENERAL O ESPECIAL (PORTA,PORTB, TIMER, ETC..)
;EL REGISTRO LLAMADO FSR (FILE SOURCE REGISTER) SE COLOCA EN LA LOCALIDAD DE MEMORIA
;PARA TENER ACCESO A ESTA PARA LEER O ESCRIBIR USANDO EL REGISTRO INDF (INDIRECT FILE)
;MANDANDO EL DATO DESDE W (MOVWF) ESCRIBIR LA LOCALIDAD O RECIBIENDO DESDE W (MOVF) LEER
MOVLW 0XC 	;W=0XC
MOVWF FSR 	;SE APUNTA A LA DIRECCION O LOCALIDAD 0XC
MOVLW 0X7 	;W=0X7
MOVWF INDF 	;MOVEMOS A INDF EL 7, LO CUAL  AFECTA A LA LOCALIDAD 0XC APUNTADA POR FSR
MOVLW 0X2	;W=0X2
ADDWF TEMP,W;W=TEM+W
MOVF INDF,W	;W=TEMP+2
BSF STATUS,RP0;IR A PG1
BCF TRISA,4	;SALIDA DE PORTA,4 CE DEL 245
BCF STATUS, RP0	;IR A PAG0
INICIO
CALL BOTON0
GOTO INICIO
BOTON0
BTFSS PORTA,0
GOTO BOTON0
BOTON0_H
BTFSC PORTA,0
GOTO BOTON0_H
INCF FSR,F
MOVF PORTB,W
MOVWF INDF
RETURN
FIN
GOTO FIN 
END